(this.webpackJsonpfront_assembleia_react=this.webpackJsonpfront_assembleia_react||[]).push([[0],{172:function(e,t){},174:function(e,t){},188:function(e,t){},190:function(e,t){},218:function(e,t){},220:function(e,t){},221:function(e,t){},226:function(e,t){},228:function(e,t){},234:function(e,t){},236:function(e,t){},255:function(e,t){},267:function(e,t){},270:function(e,t){},314:function(e,t,s){},315:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(61),r=s.n(n),i=s(17),o=s(13),l=s(14),d=s(2),u=s(3),j=s(161),h=s.n(j),b=new(function(){function e(){Object(d.a)(this,e),this.data=null}return Object(u.a)(e,[{key:"getData",value:function(){var e=localStorage.getItem("authenticationToken"),t=null;return e&&(t=this.resolveToken(e)),t}},{key:"resolveToken",value:function(e){return h.a.verify(e,"CF5E955A3D8B54C96C12A31FD177A")}}]),e}()),m=s(6),p=s(5),x=s(88),O=s.n(x),v=O.a.create({baseURL:"https://d2hlik0ak2.execute-api.us-east-2.amazonaws.com"}),f=O.a.create({baseURL:"https://d2hlik0ak2.execute-api.us-east-2.amazonaws.com"});f.defaults.headers.common.Authorization=localStorage.getItem("authenticationToken");var g=f,N=s(0),y=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleLogin=function(){v.post("login",Object(i.a)({},a.state)).then((function(e){console.log("login response is",e),localStorage.setItem("authenticationToken",e.data.token);var t="/watch";2===b.resolveToken(e.data.token).tipo&&(t="/dashboard"),window.location=t})).catch((function(e){console.error("error login",e)}))},a.state={cpf:"",rf:""},a}return Object(u.a)(s,[{key:"componentWillMount",value:function(){document.getElementById("body").className="bg-gradient-primary"}},{key:"render",value:function(){var e=this,t=this.state,s=t.rf,a=t.cpf;return Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsx)("div",{className:"col-xl-6 col-lg-6 col-md-9",children:Object(N.jsx)("div",{className:"card o-hidden border-0 shadow-lg my-5",children:Object(N.jsx)("div",{className:"card-body p-0",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-lg-12",children:Object(N.jsxs)("div",{className:"p-5",children:[Object(N.jsx)("hr",{}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)("h1",{className:"h4 text-gray-900 mb-4",children:"Bem vindo!"})}),Object(N.jsxs)("form",{onSubmit:this.handleSignIn,className:"user",children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("input",{type:"text",className:"form-control form-control-user",id:"inputRF",placeholder:"RF",value:s,onChange:function(t){return e.setState({rf:t.target.value})}})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("input",{type:"text",className:"form-control form-control-user",id:"inputCPF",placeholder:"CPF",value:a,onChange:function(t){return e.setState({cpf:t.target.value})}})}),Object(N.jsx)("button",{onClick:function(){return e.handleLogin()},type:"button",className:"btn btn-primary btn-user btn-block",children:"Entrar"}),Object(N.jsx)("hr",{})]}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)("a",{className:"small",href:"forgot-password.html",children:"Problemas para acessar? Clique aqui"})})]})})})})})})})})}}]),s}(a.Component),k=Object(l.g)(y),w=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(N.jsx)("div",{id:"content",children:Object(N.jsx)("div",{className:"container-fluid",children:Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("div",{className:"error mx-auto","data-text":"404",children:"404"}),Object(N.jsx)("p",{className:"lead text-gray-800 mb-5",children:"Page Not Found"}),Object(N.jsx)("p",{className:"text-gray-500 mb-0",children:"It looks like you found a glitch in the matrix..."}),Object(N.jsx)(o.b,{to:"/",children:"\u2190 Back to main"})]})})})}}]),s}(a.Component),C=Object(l.g)(w),q=s(46),S=s(32),E="CLICK_OPEN_MENU",I=function(e){return{type:E,newValue:e}},_=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this.props,t=e.clickMenuOpen,s=e.toggled;return Object(N.jsxs)("ul",{className:s?"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled":"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar",children:[Object(N.jsxs)("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"index.html",children:[Object(N.jsx)("div",{className:"sidebar-brand-icon rotate-n-15",children:Object(N.jsx)("i",{className:"fas fa-laugh-wink"})}),Object(N.jsx)("div",{className:"sidebar-brand-text mx-3",children:"Admin"})]}),Object(N.jsx)("hr",{className:"sidebar-divider my-0"}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)(o.b,{className:"nav-link",to:"/dashboard",children:[Object(N.jsx)("i",{className:"fas fa-fw fa-tachometer-alt"}),Object(N.jsx)("span",{children:"Dashboard"})]})}),Object(N.jsx)("hr",{className:"sidebar-divider"}),Object(N.jsx)("div",{className:"sidebar-heading",children:"Intera\xe7\xf5es"}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)(o.b,{className:"nav-link",to:"/participacoes",children:[Object(N.jsx)("i",{className:"fas fa-fw fa-user-friends"}),Object(N.jsx)("span",{children:"Participa\xe7\xf5es"})]})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)(o.b,{className:"nav-link",to:"/enquete",children:[Object(N.jsx)("i",{className:"fas fa-fw fa-user-friends"}),Object(N.jsx)("span",{children:"Enquetes"})]})}),Object(N.jsx)("hr",{className:"sidebar-divider"}),Object(N.jsx)("div",{className:"sidebar-heading",children:"Configura\xe7\xf5es"}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)(o.b,{className:"nav-link",to:"/lives",children:[Object(N.jsx)("i",{className:"fas fa-fw fa-video"}),Object(N.jsx)("span",{children:"Configura\xe7\xf5es da Live"})]})}),Object(N.jsx)("hr",{className:"sidebar-divider"}),Object(N.jsx)("div",{className:"sidebar-heading",children:"Registros"}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)(o.b,{className:"nav-link",to:"/logs",children:[Object(N.jsx)("i",{className:"fas fa-fw fa-chart-area"}),Object(N.jsx)("span",{children:"Logs"})]})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)("a",{className:"nav-link",href:"/lista-de-presenca",children:[Object(N.jsx)("i",{className:"fas fa-fw fa-table"}),Object(N.jsx)("span",{children:"Lista de Presen\xe7a"})]})}),Object(N.jsx)("hr",{className:"sidebar-divider d-none d-md-block"}),Object(N.jsx)("div",{className:"sidebar-heading",children:"Cadastros"}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)(o.b,{className:"nav-link",to:"/users",children:[Object(N.jsx)("i",{className:"fas fa-fw fa-user-friends"}),Object(N.jsx)("span",{children:"Usu\xe1rios"})]})}),Object(N.jsx)("hr",{className:"sidebar-divider d-none d-md-block"}),Object(N.jsx)("div",{className:"text-center d-none d-md-inline",children:Object(N.jsx)("button",{onClick:function(){t()},className:"rounded-circle border-0",id:"sidebarToggle"})})]})}}]),s}(a.Component),D=Object(q.b)((function(e){return{toggled:e.menuState.menuOpen}}),(function(e){return Object(S.a)({clickMenuOpen:I},e)}))(_),T=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this.props.clickMenuOpen;return Object(N.jsxs)("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow",children:[Object(N.jsx)("button",{onClick:function(){e()},id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3",children:Object(N.jsx)("i",{className:"fa fa-bars"})}),Object(N.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(N.jsx)("div",{className:"topbar-divider d-none d-sm-block"}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)("button",{className:"nav-link",style:{border:"none",backgroundColor:"#fff"},children:[Object(N.jsx)("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small",children:"Sair"}),Object(N.jsx)("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"})]})})]})]})}}]),s}(a.Component),A=Object(q.b)((function(e){return{toggled:e.menuState.menuOpen}}),(function(e){return Object(S.a)({clickMenuOpen:I},e)}))(T),F=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={title:a.props.title,icon:"fas fa-calendar fa-2x text-gray-300",color:"primary",cardClass:"",titleClass:""},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.setState({cardClass:"card border-left-".concat(this.props.color," shadow h-100 py-2")}),this.setState({icon:"fas fa-".concat(this.props.icon," fa-2x text-gray-300")}),this.setState({titleClass:"text-xs font-weight-bold text-".concat(this.props.color," text-uppercase mb-1")})}},{key:"render",value:function(){return Object(N.jsx)("div",{className:"col-xl-3 col-md-6 mb-4",children:Object(N.jsx)("div",{className:this.state.cardClass,children:Object(N.jsx)("div",{className:"card-body",children:Object(N.jsxs)("div",{className:"row no-gutters align-items-center",children:[Object(N.jsxs)("div",{className:"col mr-2",children:[Object(N.jsx)("div",{className:this.state.titleClass,children:this.props.title}),Object(N.jsx)("div",{className:"h5 mb-0 font-weight-bold text-gray-800",children:this.props.value})]}),Object(N.jsx)("div",{className:"col-auto",children:Object(N.jsx)("i",{className:this.state.icon})})]})})})})}}]),s}(a.Component),R=s(47),L=s.n(R),B=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return Object(N.jsxs)("div",{className:"card shadow mb-4",children:[Object(N.jsx)("div",{className:"card-header py-3",children:Object(N.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:this.props.title?this.props.title:"Basic Card Example"})}),Object(N.jsx)("div",{className:"card-body",children:this.props.children})]})}}]),s}(a.Component),M=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).chartRef=c.a.createRef(),e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){for(var e=this.chartRef.current.getContext("2d"),t=this.props.questionData,s=t.options.length,a=[],c=[],n=0;n<s;n++)a.push(t.options[n].text),c.push(t.options[n].number_of_votes);new L.a(e,{type:"doughnut",data:{labels:a,datasets:[{data:c,backgroundColor:["#4e73df","#1cc88a","#36b9cc","#F8EA8C","#66CD00"],hoverBackgroundColor:["#2e59d9","#17a673","#2c9faf","#E1C340","#458B00"],hoverBorderColor:"rgba(234, 236, 244, 1)"}]},options:{maintainAspectRatio:!1,tooltips:{backgroundColor:"rgb(255,255,255)",bodyFontColor:"#858796",borderColor:"#dddfeb",borderWidth:1,xPadding:15,yPadding:15,displayColors:!1,caretPadding:10},legend:{display:!1},cutoutPercentage:80}})}},{key:"render",value:function(){var e=this.props.questionData;return Object(N.jsx)(B,{title:null===e||void 0===e?void 0:e.question,children:Object(N.jsx)("div",{className:"chart-pie pt-4",children:Object(N.jsx)("canvas",{id:"myPieChart",ref:this.chartRef})})})}}]),s}(a.Component);L.a.defaults.global.defaultFontFamily="Nunito",L.a.defaults.global.defaultFontColor="#858796";a.Component;var U=function(e){var t=e.title,s=void 0===t?"":t,a=e.subtitle,c=void 0===a?"":a;return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{className:"h3 mb-2 text-gray-800",children:s}),Object(N.jsx)("p",{className:"mb-4",children:c})]})},W=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={users:"0",participations:"0",transmissoes:"0",researches:"0",answers:[]},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("body").className="page-top",g.get("admin/dashboard").then((function(t){console.log("response data",t.data.users),e.setState(Object(i.a)({},t.data))}))}},{key:"renderBasicShapeForChart",value:function(){return Object(N.jsx)("div",{children:"Carregando informa\xe7\xf5es"})}},{key:"render",value:function(){var e=this.state,t=e.users,s=e.participations,a=e.transmissoes,c=e.researches,n=e.answers;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Dashboard"}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)(F,{title:"Usu\xe1rios Ativos",icon:"user",color:"primary",value:t}),Object(N.jsx)(F,{title:"Transmiss\xf5es Feitas",icon:"video",color:"info",value:a}),Object(N.jsx)(F,{title:"Pedidos de Participa\xe7\xe3o",icon:"user-friends",color:"success",value:s}),Object(N.jsx)(F,{title:"Enquetes",icon:"user-friends",color:"warning",value:c})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-xl-4 col-lg-6",children:n[0]?Object(N.jsx)(M,{questionData:n[0]}):this.renderBasicShapeForChart()}),Object(N.jsx)("div",{className:"col-xl-4 col-lg-6",children:n[1]?Object(N.jsx)(M,{questionData:n[1]}):this.renderBasicShapeForChart()})]})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),P=s(31),Q=s.n(P),Y=function(e){return e<=9?"0"+e:e},V=function(e){return["01","02","03","04","05","06","07","08","09","10","11","12"][e]},z=function(e){return(e=new Date(e)).getDate()+"/"+V(e.getMonth())+"/"+e.getFullYear()+" "+Y(e.getHours())+":"+Y(e.getMinutes())},H=[{name:"Usu\xe1rio",selector:"name",sortable:!0},{name:"A\xe7\xe3o",selector:"action",sortable:!0,cell:function(e){var t="";switch(e.action){case"login":t="Fez login";break;case"live":t="Entrou na live";break;case"askpart":t="Pediu para participar";break;case"accpart":t="Aceitou a participa\xe7\xe3o";break;case"logout":t="Fez logout";break;default:t="Atividade desconhecida"}return t}},{name:"Data e Hora",selector:"created_at",sortable:!0,cell:function(e){return z(e.created_at)}}],G=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={logs:[]},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;g.get("admin/logs").then((function(t){e.setState({logs:t.data.logs})}))}},{key:"render",value:function(){return Object(N.jsx)("div",{children:Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Logs de A\xe7\xf5es",subtitle:"Veja aqui todas as a\xe7\xf5es executadas pelos usu\xe1rios do sistema."}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsx)(B,{title:"Listagem de logs",children:Object(N.jsx)(Q.a,{title:"Listagem de logs",columns:H,data:this.state.logs,pagination:!0})})})})]})]})})]})})}}]),s}(a.Component),J=s(9),K=s.n(J),X=s(16),Z=s(8),$=s.n(Z),ee=(s(20),s(21),function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleAcceptStatus=function(){var e=Object(X.a)(K.a.mark((function e(t){var s,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.fire({input:"url",inputLabel:"Digite o link da live para o associado ".concat(t.name),inputPlaceholder:"Link",validationMessage:"O link digitado est\xe1 incorreto"});case 2:s=e.sent,(c=s.value)&&g.post("admin/change-invitation-status",{link:c,status:1,id:t.participationId}).then((function(){a.updateRequestsState(t.participationId,1,c)})).catch((function(e){console.log(e),$.a.fire("Erro","Erro ao alterar status","error")}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRejectStatus=function(e){g.post("admin/change-invitation-status",{link:null,status:0,id:e.participationId}).then((function(){a.updateRequestsState(e.participationId)})).catch((function(e){console.log(e),$.a.fire("Erro","Erro ao alterar status","error")}))},a.updateRequestsState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=a.state.requests,n=c.findIndex((function(t){return t.participationId===e}));c[n].link=s,c[n].status=t,a.setState({requests:c})},a.state={requests:[],offset:0},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("body").className="page-top";var t=setInterval((function(){g.get("admin/list-invitations?min=".concat(e.state.offset)).then((function(t){if(console.log(t.data.participations),t.data.participations.length>0){var s=e.state.requests,a=t.data.participations,c=a[0].participationId;s=a.concat(s),e.setState({requests:s,offset:c})}}))}),2500);this.setState({intervalId:t})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"timer",value:function(e){var t=this;console.log(e),g.get("admin/list-invitations?min=0").then((function(e){console.log("participations",e.data.participations);var s=e.data.participations.length;s>0&&t.setState({requests:e.data.participations,offset:e.data.participations[s-1].id})}))}},{key:"renderRow",value:function(e){var t=this,s=null;return s=null!=e.link?Object(N.jsx)("td",{colSpan:3,style:{textAlign:"center",color:"#1cc88a",fontWeight:"bold"},children:"Aprovado"}):1===e.status&&null==e.link?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("td",{children:"Pendente"}),Object(N.jsx)("td",{children:Object(N.jsxs)("button",{onClick:function(){return t.handleAcceptStatus(e)},className:"btn btn-success btn-icon-split",children:[Object(N.jsx)("span",{className:"icon text-white-50",children:Object(N.jsx)("i",{className:"fas fa-check"})}),Object(N.jsx)("span",{className:"text",children:"Aceitar"})]})}),Object(N.jsx)("td",{children:Object(N.jsxs)("button",{onClick:function(){return t.handleRejectStatus(e)},className:"btn btn-danger btn-icon-split",children:[Object(N.jsx)("span",{className:"icon text-white-50",children:Object(N.jsx)("i",{className:"fas fa-trash"})}),Object(N.jsx)("span",{className:"text",children:"Rejeitar"})]})})]}):Object(N.jsx)("td",{colSpan:3,style:{textAlign:"center",color:"#e74a3b",fontWeight:"bold"},children:"Reprovado"}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:e.participationId}),Object(N.jsx)("td",{children:e.name}),Object(N.jsx)("td",{children:e.description}),Object(N.jsx)("td",{children:z(e.created_at)}),s]},e.participationId)}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Solicita\xe7\xf5es para participar",subtitle:"Aceite ou recuse as solicita\xe7\xf5es para participar da transmiss\xe3o por aqui"}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsx)(B,{title:"Solicita\xe7\xf5es de Participa\xe7\xe3o",children:Object(N.jsx)("div",{className:"table-responsive",children:Object(N.jsxs)("table",{className:"table table-bordered",width:"100%",cellSpacing:"0",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Nome"}),Object(N.jsx)("th",{children:"Motivo"}),Object(N.jsx)("th",{children:"Data e Hora"}),Object(N.jsx)("th",{children:"Status"}),Object(N.jsx)("th",{children:"Aceitar"}),Object(N.jsx)("th",{children:"Rejeitar"})]})}),Object(N.jsx)("tfoot",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Nome"}),Object(N.jsx)("th",{children:"Motivo"}),Object(N.jsx)("th",{children:"Data e Hora"}),Object(N.jsx)("th",{children:"Status"}),Object(N.jsx)("th",{children:"Aceitar"}),Object(N.jsx)("th",{children:"Rejeitar"})]})}),Object(N.jsx)("tbody",{children:this.state.requests.map((function(t){return e.renderRow(t)}))})]})})})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component)),te=[{name:"Nome",selector:"name",sortable:!0},{name:"Data e Hora",selector:"created_at",sortable:!0,cell:function(e){return z(e.created_at)}}],se=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={precenseList:[]},a}return Object(u.a)(s,[{key:"componentWillMount",value:function(){var e=this;document.getElementById("body").className="page-top",g.get("admin/presence-list").then((function(t){e.setState({precenseList:t.data.logs})}))}},{key:"render",value:function(){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Lista de presen\xe7a",subtitle:"Lista de presen\xe7a dos associados que entraram para ver a transmiss\xe3o"}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsx)(B,{title:"Lista de presen\xe7a",children:Object(N.jsx)(Q.a,{title:"Lista de presen\xe7a",columns:te,data:this.state.precenseList,pagination:!0})})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),ae=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).redirectToNew=function(){a.props.history.push("/lives/novo")},a.state={lives:[]},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("body").className="page-top",g.get("/admin/live").then((function(t){e.setState({lives:t.data.lives})}))}},{key:"handleEdit",value:function(e){this.props.history.push("/lives/".concat(e,"/editar"))}},{key:"renderRows",value:function(){var e=this,t=[];return this.state.lives&&this.state.lives.map((function(s){var a=s.url?s.url.match(/[\w-]{11,}/):"";return a=a?a[0]:"",t.push(Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)("img",{src:"https://img.youtube.com/vi/".concat(a,"/hqdefault.jpg"),alt:"YT Thumb",width:"200"})}),Object(N.jsxs)("td",{children:[Object(N.jsx)("strong",{children:s.title}),Object(N.jsx)("p",{style:{color:"rgba(0,0,0,0.4)"},children:s.description})]}),Object(N.jsx)("td",{children:z(s.created_at)}),Object(N.jsx)("td",{children:s.status?"Ativa":"Inativa"}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.handleEdit(s.id)},children:"Editar"})}),Object(N.jsx)("td",{children:Object(N.jsx)("button",{className:"btn btn-danger",onClick:function(){return $.a.fire("Ainda n\xe3o implementado")},children:"Desativar"})})]},s.id))})),t}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Listagem de Transmiss\xf5es",subtitle:"Listagem e hist\xf3rico das transmiss\xf5es j\xe1 cadastradas"}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Listagem de Transmiss\xf5es",children:[Object(N.jsx)("button",{onClick:function(){return e.redirectToNew()},className:"btn btn-success mb-2",children:"Adicionar Transmiss\xe3o"}),Object(N.jsx)("div",{className:"table-responsive",children:Object(N.jsxs)("table",{className:"table table-bordered",width:"100%",cellSpacing:"0",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{width:"200",children:"Thumb"}),Object(N.jsx)("th",{width:"600",children:"T\xedtulo"}),Object(N.jsx)("th",{children:"Data e Hora"}),Object(N.jsx)("th",{children:"Status"}),Object(N.jsx)("th",{children:"Editar"}),Object(N.jsx)("th",{children:"Desativar"})]})}),Object(N.jsx)("tfoot",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Thumb"}),Object(N.jsx)("th",{children:"T\xedtulo"}),Object(N.jsx)("th",{children:"Data e Hora"}),Object(N.jsx)("th",{children:"Status"}),Object(N.jsx)("th",{children:"Editar"}),Object(N.jsx)("th",{children:"Desativar"})]})}),Object(N.jsx)("tbody",{children:this.renderRows()})]})})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),ce=Object(l.g)(ae),ne=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleCreateLive=Object(X.a)(K.a.mark((function e(){var t,s,c,n,r,i;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state,s=t.url,c=t.title,n=t.status,r=t.description,i=t.user_id,g.post("admin/live",{url:s,title:c,description:r,status:n,user_id:i}).then((function(e){$.a.fire({icon:"success",title:"Sucesso",text:"Link da transmiss\xe3o alterado com sucesso"}),a.props.history.push("/lives")})).catch((function(e){console.log(e),console.log(e.message),$.a.fire({icon:"error",title:"Oops...",text:"Erro ao alterar o link da live"})}));case 2:case"end":return e.stop()}}),e)}))),a.state={url:"",title:"",description:"",status:0,user_id:b.getData().id},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){document.getElementById("body").className="page-top"}},{key:"render",value:function(){var e=this,t=this.state,s=t.url,a=t.title,c=t.status,n=t.description;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Configura\xe7\xf5es da Transmiss\xe3o",subtitle:"Altere por aqui o c\xf3digo de incorpora\xe7\xe3o de transmiss\xe3o no site."}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsx)(B,{title:"Configura\xe7\xf5es da Transmiss\xe3o",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"url",children:"Link"}),Object(N.jsx)("input",{id:"url",name:"url",type:"text",value:s,onChange:function(t){return e.setState({url:t.target.value})},required:"",className:"form-control bg-light border-0 small",placeholder:"Cole aqui o link da transmiss\xe3o do youtube, exemplo: https://www.youtube.com/embed/dQw4w9WgXcQ"})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"title",children:"T\xedtulo"}),Object(N.jsx)("input",{id:"title",name:"title",type:"text",value:a,onChange:function(t){return e.setState({title:t.target.value})},required:"",className:"form-control bg-light border-0 small",placeholder:"Escreva o t\xedtulo da sua live"})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"description",children:"Descri\xe7\xe3o"}),Object(N.jsx)("input",{id:"description",name:"description",type:"text",value:n,onChange:function(t){return e.setState({description:t.target.value})},required:"",className:"form-control bg-light border-0 small",placeholder:"Descri\xe7\xe3o, ou texto complementar ao t\xedtulo da live"})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"status",children:"Status"}),Object(N.jsxs)("select",{id:"status",name:"status",value:c,onChange:function(t){return e.setState({status:t.target.value})},required:"",className:"form-control bg-light border-0 small",children:[Object(N.jsx)("option",{value:"0",children:"Inativa"}),Object(N.jsx)("option",{value:"1",children:"Ativa"})]})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsx)("button",{onClick:function(){return e.handleCreateLive()},className:"btn btn-primary",type:"submit",children:"Salvar"})})]})})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),re=Object(l.g)(ne),ie=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleCreateLive=Object(X.a)(K.a.mark((function e(){var t,s,c,n,r,i,o;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state,s=t.id,c=t.url,n=t.title,r=t.status,i=t.description,o=t.user_id,g.put("admin/live",{id:s,url:c,title:n,description:i,status:r,user_id:o}).then((function(e){$.a.fire({icon:"success",title:"Sucesso",text:"Transmiss\xe3o alterada com sucesso"}),a.props.history.push("/lives")})).catch((function(e){console.log(e),console.log(e.message),$.a.fire({icon:"error",title:"Oops...",text:"Erro ao alterar o link da live"})}));case 2:case"end":return e.stop()}}),e)}))),a.state={id:null,url:"",title:"",description:"",status:0,user_id:b.getData().id},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("body").className="page-top";var t=this.props.match.params;g.get("/admin/live?id=".concat(t.id)).then((function(t){var s;if(null===(s=t.data)||void 0===s?void 0:s.lives[0]){var a=t.data.lives[0];e.setState({id:a.id,url:a.url,description:a.description,title:a.title,status:a.status})}else alert("N\xe3o encontrado")}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.url,a=t.title,c=t.status,n=t.description;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Editar Transmiss\xe3o",subtitle:"Altere por aqui o c\xf3digo de incorpora\xe7\xe3o de transmiss\xe3o no site."}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsx)(B,{title:"Configura\xe7\xf5es da Transmiss\xe3o",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"url",children:"Link"}),Object(N.jsx)("input",{id:"url",name:"url",type:"text",value:s,onChange:function(t){return e.setState({url:t.target.value})},required:"",className:"form-control bg-light border-0 small",placeholder:"Cole aqui o link da transmiss\xe3o do youtube, exemplo: https://www.youtube.com/embed/dQw4w9WgXcQ"})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"title",children:"T\xedtulo"}),Object(N.jsx)("input",{id:"title",name:"title",type:"text",value:a,onChange:function(t){return e.setState({title:t.target.value})},required:"",className:"form-control bg-light border-0 small",placeholder:"Escreva o t\xedtulo da sua live"})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"description",children:"Descri\xe7\xe3o"}),Object(N.jsx)("input",{id:"description",name:"description",type:"text",value:n,onChange:function(t){return e.setState({description:t.target.value})},required:"",className:"form-control bg-light border-0 small",placeholder:"Descri\xe7\xe3o, ou texto complementar ao t\xedtulo da live"})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"status",children:"Status"}),Object(N.jsxs)("select",{id:"status",name:"status",value:c,onChange:function(t){return e.setState({status:t.target.value})},required:"",className:"form-control bg-light border-0 small",children:[Object(N.jsx)("option",{value:"0",children:"Inativa"}),Object(N.jsx)("option",{value:"1",children:"Ativa"})]})]})}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsx)("button",{onClick:function(){return e.handleCreateLive()},className:"btn btn-primary",type:"submit",children:"Salvar"})})]})})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),oe=Object(l.g)(ie),le=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).columns=[{name:"#",selector:"id",sortable:!0},{name:"Nome",selector:"name",sortable:!0},{name:"Data e Hora",selector:"created_at",sortable:!0,cell:function(e){return z(e.created_at)}},{name:"Tipo",selector:"tipo",cell:function(e){return 2===e.tipo?"Admin":"Comum"}},{name:"Visualizar",cell:function(e){return Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return a.handleDetails(e)},children:"Visualizar"})}},{name:"Editar",cell:function(e){return Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return a.handleUpdateRedirect(e.id)},children:"Editar"})}},{name:"Deletar",cell:function(e){return Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return a.handleDelete(e)},children:"Deletar"})}}],a.handleDelete=function(e){$.a.fire({title:"Voc\xea tem certeza?",text:"Realmente quer deletar o usuario ".concat(e.name,"? Ap\xf3s deletado, n\xe3o ser\xe1 poss\xedvel reverter o processo."),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"N\xe3o",confirmButtonText:"Sim, deletar!"}).then((function(t){t.isConfirmed&&g.delete("/admin/users/".concat(e.id)).then((function(t){$.a.fire("Deletado!","O usu\xe1rio foi deletado","success");var s=a.state.users,c=s.findIndex((function(t){return t.id===e.id}));s.splice(c,1),a.setState({users:s})})).catch((function(e){console.log(e),$.a.fire("Erro","Erro ao deletar o usu\xe1rio","error")}))}))},a.handleUpdateRedirect=function(e){a.props.history.push("/users/editar/".concat(e))},a.redirectToNew=function(){a.props.history.push("/users/novo")},a.state={users:[]},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementsByClassName("rdt_TableHeader")[0].remove(),document.getElementById("body").className="page-top",g.get("/admin/users").then((function(t){e.setState({users:t.data.users})})).catch((function(e){console.log(e),$.a.fire("Erro","Erro ao listar os usu\xe1rios","error")}))}},{key:"handleDetails",value:function(e){this.props.history.push({pathname:"/users/".concat(e.id),state:{user:e}})}},{key:"render",value:function(){var e=this,t=this.state.users;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Usu\xe1rios",subtitle:"Gerencie os usu\xe1rios do sistema."}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Listagem de Usu\xe1rios",children:[Object(N.jsx)("button",{onClick:function(){return e.redirectToNew()},className:"btn btn-success",children:"Adicionar Usu\xe1rio"}),Object(N.jsx)(Q.a,{columns:this.columns,data:t,pagination:!0})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),de=Object(l.g)(le),ue=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleCreateLive=Object(X.a)(K.a.mark((function e(){var t;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state,g.post("admin/users",t).then((function(e){$.a.fire({icon:"success",title:"Sucesso",text:"Usu\xe1rio com sucesso"}),a.props.history.push("/users")})).catch((function(e){console.log(e),console.log(e.message),$.a.fire({icon:"error",title:"Oops...",text:"Erro ao cadastrar usu\xe1rio"})}));case 2:case"end":return e.stop()}}),e)}))),a.state={name:"",email:"",rf:"",cpf:"",tipo:1},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){document.getElementById("body").className="page-top"}},{key:"render",value:function(){var e=this,t=this.state,s=t.name,a=t.email,c=t.rf,n=t.cpf,r=t.tipo;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Usu\xe1rios",subtitle:"Gerencie os usu\xe1rios do sistema."}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Novo Usu\xe1rio",children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Nome"}),Object(N.jsx)("input",{id:"name",name:"name",type:"text",value:s,onChange:function(t){return e.setState({name:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Email"}),Object(N.jsx)("input",{id:"email",name:"email",type:"email",value:a,onChange:function(t){return e.setState({email:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"rf",children:"RF"}),Object(N.jsx)("input",{id:"rf",name:"rf",type:"text",value:c,onChange:function(t){return e.setState({rf:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"cpf",children:"CPF"}),Object(N.jsx)("input",{id:"cpf",name:"cpf",type:"text",value:n,onChange:function(t){return e.setState({cpf:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"tipo",children:"Tipo"}),Object(N.jsxs)("select",{id:"tipo",name:"tipo",value:r,onChange:function(t){return e.setState({tipo:t.target.value})},required:"",className:"form-control bg-light border-0 small",children:[Object(N.jsx)("option",{value:"1",children:"Comum"}),Object(N.jsx)("option",{value:"2",children:"Admin"})]})]}),Object(N.jsxs)("div",{className:"col-md-12",children:[Object(N.jsx)("button",{onClick:function(){return e.props.history.push("/users")},className:"btn btn-default mr-2",type:"submit",children:"Voltar"}),Object(N.jsx)("button",{onClick:function(){return e.handleCreateLive()},className:"btn btn-primary",type:"submit",children:"Salvar"})]})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),je=Object(l.g)(ue),he=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleCreateLive=Object(X.a)(K.a.mark((function e(){var t,s,c,n,r,i,o,l;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.state,s=t.id,c=t.name,n=t.email,r=t.rf,i=t.cpf,o=t.tipo,l={id:s,name:c,email:n,rf:r,cpf:i,tipo:o},g.put("admin/users",l).then((function(e){$.a.fire({icon:"success",title:"Sucesso",text:"Usu\xe1rio editado com sucesso"}),a.props.history.push("/users")})).catch((function(e){console.log(e),console.log(e.message),$.a.fire({icon:"error",title:"Oops...",text:"Erro ao editar usu\xe1rio"})}));case 3:case"end":return e.stop()}}),e)}))),a.state={id:null,name:"",email:"",rf:"",cpf:"",tipo:1},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("body").className="page-top";var t=this.state,s=this.props.match.params;g.get("admin/users/".concat(s.id),t).then((function(t){e.setState(Object(i.a)({},t.data.user[0]))}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.name,a=t.email,c=t.rf,n=t.cpf,r=t.tipo;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Usu\xe1rios",subtitle:"Gerencie os usu\xe1rios do sistema."}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Editar Usu\xe1rio",children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Nome"}),Object(N.jsx)("input",{id:"name",name:"name",type:"text",value:s,onChange:function(t){return e.setState({name:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Email"}),Object(N.jsx)("input",{id:"email",name:"email",type:"email",value:a,onChange:function(t){return e.setState({email:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"rf",children:"RF"}),Object(N.jsx)("input",{id:"rf",name:"rf",type:"text",value:c,onChange:function(t){return e.setState({rf:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"cpf",children:"CPF"}),Object(N.jsx)("input",{id:"cpf",name:"cpf",type:"text",value:n,onChange:function(t){return e.setState({cpf:t.target.value})},required:!0,className:"form-control bg-light border-0 small"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"tipo",children:"Tipo"}),Object(N.jsxs)("select",{id:"tipo",name:"tipo",value:r,onChange:function(t){return e.setState({tipo:t.target.value})},required:"",className:"form-control bg-light border-0 small",children:[Object(N.jsx)("option",{value:"1",children:"Comum"}),Object(N.jsx)("option",{value:"2",children:"Admin"})]})]}),Object(N.jsxs)("div",{className:"col-md-12",children:[Object(N.jsx)("button",{onClick:function(){return e.props.history.push("/users")},className:"btn btn-default mr-2",type:"submit",children:"Voltar"}),Object(N.jsx)("button",{onClick:function(){return e.handleCreateLive()},className:"btn btn-primary",type:"submit",children:"Salvar"})]})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),be=Object(l.g)(he),me=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={id:null,name:"",email:"",rf:"",cpf:"",tipo:1},a}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("body").className="page-top";var t=this.state,s=this.props.match.params;g.get("admin/users/".concat(s.id),t).then((function(t){e.setState(Object(i.a)({},t.data.user[0]))}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.name,a=t.email,c=t.rf,n=t.cpf,r=t.tipo;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Usu\xe1rios",subtitle:"Gerencie os usu\xe1rios do sistema."}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Detalhar Usu\xe1rio",children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Nome"}),Object(N.jsx)("input",{id:"name",name:"name",type:"text",value:s,onChange:function(t){return e.setState({name:t.target.value})},required:!0,className:"form-control bg-light border-0 small",readOnly:!0})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Email"}),Object(N.jsx)("input",{id:"email",name:"email",type:"email",value:a,onChange:function(t){return e.setState({email:t.target.value})},required:!0,className:"form-control bg-light border-0 small",readOnly:!0})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"rf",children:"RF"}),Object(N.jsx)("input",{id:"rf",name:"rf",type:"text",value:c,onChange:function(t){return e.setState({rf:t.target.value})},required:!0,className:"form-control bg-light border-0 small",readOnly:!0})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"cpf",children:"CPF"}),Object(N.jsx)("input",{id:"cpf",name:"cpf",type:"text",value:n,onChange:function(t){return e.setState({cpf:t.target.value})},required:!0,className:"form-control bg-light border-0 small",readOnly:!0})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"tipo",children:"Tipo"}),Object(N.jsxs)("select",{id:"tipo",name:"tipo",value:r,onChange:function(t){return e.setState({tipo:t.target.value})},required:"",className:"form-control bg-light border-0 small",disabled:!0,children:[Object(N.jsx)("option",{value:"1",children:"Comum"}),Object(N.jsx)("option",{value:"2",children:"Admin"})]})]}),Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsx)("button",{onClick:function(){return e.props.history.push("/users")},className:"btn btn-default mr-2",type:"submit",children:"Voltar"})})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),pe=Object(l.g)(me),xe=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={research:{name:"",live_id:"",status:!1,questions:[{type:"radio",title:"",text:"",required:!0,options:["",""]}]},lives:[]},a}return Object(u.a)(s,[{key:"componentWillMount",value:function(){document.getElementById("body").className="page-top"}},{key:"componentDidMount",value:function(){var e=this;g.get("/admin/live").then((function(t){e.setState({lives:t.data.lives})}))}},{key:"handleResearchInput",value:function(e){var t=e.target,s=t.name,a=this.state.research;a[s]="checkbox"===t.type?t.checked:t.value,this.setState({research:a})}},{key:"renderQuestions",value:function(){var e=this,t=[];return this.state.research.questions.map((function(s,a){return t.push(Object(N.jsxs)("div",{children:[Object(N.jsxs)("h6",{className:"font-weight-bold text-primary",children:["Quest\xe3o ",a+1]}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("input",{type:"text",name:"title",className:"form-control",placeholder:"T\xedtulo da pergunta",value:s.title,question:a,onChange:function(t){return e.handleQuestionInput(t)}})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("input",{type:"text",name:"text",className:"form-control",placeholder:"Descri\xe7\xe3o opcional",value:s.text,question:a,onChange:function(t){return e.handleQuestionInput(t)}})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("select",{name:"type",className:"form-control",value:s.type,question:a,onChange:function(t){return e.handleQuestionInput(t)},children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"Escolha o tipo"}),Object(N.jsx)("option",{value:"radio",children:"M\xfaltipla Escolha"}),Object(N.jsx)("option",{value:"text",children:"Texto"}),Object(N.jsx)("option",{value:"checkbox",children:"Caixa de Checagem"})]})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("div",{className:"custom-control custom-checkbox small",children:[Object(N.jsx)("input",{className:"custom-control-input",id:"questionCheck-"+a,type:"checkbox",name:"required",question:a,checked:s.required,onChange:function(t){return e.handleQuestionInput(t)}}),Object(N.jsx)("label",{className:"custom-control-label",htmlFor:"questionCheck-"+a,children:"\xc9 obrigat\xf3rio?"})]})}),e.renderOptions(s,a),Object(N.jsx)("hr",{})]},a)),t})),t}},{key:"handleQuestionInput",value:function(e){var t=e.target,s=t.getAttribute("question"),a=t.name,c="checkbox"===t.type?t.checked:t.value,n=this.state.research;n.questions[s][a]=c,this.setState({research:n})}},{key:"handleAddQuestion",value:function(){var e=this.state.research;e.questions.push({type:"radio",title:"",text:"",required:!0,options:["",""]}),this.setState({research:e})}},{key:"handleOptionInput",value:function(e){var t=e.target.getAttribute("question"),s=e.target.getAttribute("option"),a=e.target.value,c=this.state.research;c.questions[t].options[s]=a,this.setState({research:c})}},{key:"renderOptions",value:function(e,t){var s=this,a=[];return a.push(Object(N.jsx)("h6",{className:"font-weight-bold text-primary",children:"Op\xe7\xf5es"})),"radio"!==e.type&&"checkbox"!==e.type||e.options.map((function(e,c){return a.push(Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-10",children:Object(N.jsx)("input",{className:"form-control",type:"text",placeholder:"Digite a op\xe7\xe3o",value:e,question:t,option:c,onChange:function(e){return s.handleOptionInput(e)}})}),Object(N.jsx)("div",{className:"col-md-2",children:Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return s.removeOption(t,c)},children:"Remover"})})]})})},c))})),a.push(Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return s.handleAddOption(t)},children:"Adicionar Op\xe7\xe3o"})),a}},{key:"handleAddOption",value:function(e){var t=this.state.research;t.questions[e].options.push(""),this.setState({research:t})}},{key:"removeOption",value:function(e,t){var s=this.state.research;s.questions[e].options.splice(t,1),this.setState({research:s})}},{key:"handleSubmit",value:function(){var e=Object(X.a)(K.a.mark((function e(){var t=this;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.post("/admin/research",this.state.research).then(Object(X.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.fire("Sucesso","A enquete foi cadastrada com sucesso","success");case 2:t.props.history.push("/enquete");case 3:case"end":return e.stop()}}),e)})))).catch((function(){$.a.fire("Erro","Verifique os dados enviados e tente novamente","error")}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Enquetes",subtitle:"Gerencie e veja os resultados das enquetes adicionadas"}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Adicionar de Enquete",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-6",children:[Object(N.jsx)("h6",{className:"font-weight-bold text-primary",children:"Informa\xe7\xf5es Gerais"}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("input",{type:"text",name:"name",placeholder:"T\xedtulo do question\xe1rio",className:"form-control",value:this.state.research.name,onChange:function(t){return e.handleResearchInput(t)}})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("div",{className:"custom-control custom-checkbox small",children:[Object(N.jsx)("input",{className:"custom-control-input",id:"customCheck",type:"checkbox",name:"status",checked:this.state.research.status,onChange:function(t){return e.handleResearchInput(t)}}),Object(N.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck",children:"Checar esta op\xe7\xe3o se voc\xea desejar que a enquete seja enviada imediatamente ap\xf3s o cadastor."})]})})]}),Object(N.jsxs)("div",{className:"col-md-6",children:[Object(N.jsx)("h6",{className:"font-weight-bold text-primary",children:"Live"}),Object(N.jsxs)("select",{name:"live_id",placeholder:"T\xedtulo do question\xe1rio",className:"form-control",value:this.state.research.live_id,onChange:function(t){return e.handleResearchInput(t)},children:[Object(N.jsx)("option",{children:"Selecione uma live para associar a enquete"}),this.state.lives.map((function(e){return Object(N.jsxs)("option",{value:e.id,children:[e.id," - ",e.title]})}))]})]})]}),Object(N.jsx)("hr",{}),this.renderQuestions(),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.handleAddQuestion()},children:"Adicionar Quest\xe3o"})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("button",{className:"btn btn-success",onClick:function(){return e.handleSubmit()},children:"Cadastrar Enquete"})})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),Oe=Object(l.g)(xe),ve=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a,c,n;Object(d.a)(this,s);var r=null===(a=(n=t.call(this,e)).props.location)||void 0===a||null===(c=a.state)||void 0===c?void 0:c.research;return r||(r={name:"",status:!1,questions:[{type:"radio",title:"",text:"",required:!0,options:["",""]}]}),n.state={research:r,answers:{}},n}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("body").className="page-top";var t=this.props.match.params;g.get("/admin/research/results?id=".concat(t.id)).then((function(t){var s,a,c=e.state.research;null===(s=t.data.alternatives)||void 0===s||s.forEach((function(e){var t=c.questions.findIndex((function(t){return t.id===e.research_question_id}));c.questions[t].options=e.options})),null===(a=t.data.dissertation)||void 0===a||a.forEach((function(e){var t=c.questions.findIndex((function(t){return t.id===e.research_question_id}));c.questions[t].dissertations=e.answers})),console.log("research after manipulate",c),e.setState({answers:t.data,research:c})}))}},{key:"renderTypeName",value:function(e){switch(e){case"radio":return"M\xfaltipla Escolha";case"text":return"Texto";case"checkbox":return"Caixa de Checagem";default:return}}},{key:"renderQuestions",value:function(){var e=this,t=[];return this.state.research.questions.map((function(s,a){return t.push(Object(N.jsxs)("div",{children:[Object(N.jsxs)("h6",{className:"font-weight-bold text-primary",children:["Quest\xe3o ",a+1]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-12",children:[Object(N.jsx)("strong",{children:"T\xedtulo: "})," ",s.title]}),Object(N.jsxs)("div",{className:"col-md-12",children:[Object(N.jsx)("strong",{children:"Tipo: "})," ",e.renderTypeName(s.type)]}),Object(N.jsxs)("div",{className:"col-md-12",children:[Object(N.jsx)("strong",{children:"Texto complementar:"})," ",Object(N.jsx)("br",{}),s.text]}),Object(N.jsxs)("div",{className:"col-md-12",children:[Object(N.jsx)("strong",{children:"Quest\xe3o obrigat\xf3ria? "}),s.required?"Sim":"N\xe3o"]})]}),e.renderOptions(s,a),Object(N.jsx)("hr",{})]},"question-".concat(s.id))),t})),t}},{key:"renderOptions",value:function(e){var t=[];return"radio"===e.type||"checkbox"===e.type?(t.push(Object(N.jsx)("h6",{className:"font-weight-bold text-primary mt-2",children:"Op\xe7\xf5es e N\xfameros de Votos"},"h6")),e.options.map((function(e){return t.push(Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("div",{className:"col-md-10",children:[e.text," ",e.number_of_votes?" - ".concat(e.number_of_votes," usu\xe1rios escolheram essa op\xe7\xe3o"):""]})})})},"option-".concat(e.id)))}))):(t.push(Object(N.jsx)("h6",{className:"font-weight-bold text-primary mt-2",children:"Respostas Dissertativas"},"h6")),e.dissertations&&e.dissertations.map((function(e){return t.push(Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-10 mb-2",children:Object(N.jsx)("div",{className:"received_msg",children:Object(N.jsx)("p",{children:e})})})}))}))),t}},{key:"handleBack",value:function(){this.props.history.push("/enquete")}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Enquetes",subtitle:"Gerencie e veja os resultados das enquetes adicionadas"}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Adicionar de Enquete",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h6",{className:"font-weight-bold text-primary",children:"Informa\xe7\xf5es Gerais"}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-md-4",children:[Object(N.jsx)("strong",{children:"T\xedtulo: "})," ",this.state.research.name]}),Object(N.jsxs)("div",{className:"col-md-2",children:[Object(N.jsx)("strong",{children:"Status: "})," ",this.state.research.status?"Ativo":"Inativo"]})]})]}),Object(N.jsx)("hr",{}),this.renderQuestions(),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("button",{className:"btn btn-success",onClick:function(){return e.handleBack()},children:"Voltar"})})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),fe=Object(l.g)(ve),ge=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).columns=[{name:"#",selector:"id",sortable:!0},{name:"T\xedtulo",selector:"name",sortable:!0},{name:"Data e Hora",selector:"created_at",sortable:!0,cell:function(e){return z(e.created_at)}},{name:"Status",selector:"status",cell:function(e){return 1===e.status?"Ativado":"Desativado"}},{name:"Alterar Status",cell:function(e){return 0===e.status?Object(N.jsx)("button",{className:"btn btn-success",onClick:function(){return a.handleUpdateStatus(e.id,1)},children:"Ativar"}):Object(N.jsx)("button",{className:"btn btn-danger",onClick:function(){return a.handleUpdateStatus(e.id,0)},children:"Desativar"})}},{name:"Visualizar",cell:function(e){return Object(N.jsx)("button",{className:"btn btn-primary",onClick:function(){return a.handleDetails(e)},children:"Visualizar"})}}],a.redirectToNew=function(){a.props.history.push("/enquete/novo")},a.state={rowsChange:!1,researches:[]},a}return Object(u.a)(s,[{key:"handleDetails",value:function(e){console.log(e),this.props.history.push({pathname:"/enquete/".concat(e.id),state:{research:e}})}},{key:"handleUpdateStatus",value:function(e,t){var s=this;g.put("/admin/research",{id:e,status:t}).then((function(){var a=s.state.researches,c=a.findIndex((function(t){return t.id===e}));a[c].status=t,s.setState({rowsChange:!s.state.rowsChange,researches:a}),$.a.fire("Sucesso","O status foi alterado com sucesso","success")})).catch((function(){$.a.fire("Erro","Erro ao alterar o status da enquete","error")}))}},{key:"componentDidMount",value:function(){var e=this;document.getElementsByClassName("rdt_TableHeader")[0].remove(),document.getElementById("body").className="page-top",g.get("/admin/research").then((function(t){e.setState({researches:t.data})})).catch((function(e){console.log(e),$.a.fire("Erro","Erro ao listar as enquetes","error")}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.researches,a=t.rowsChange;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{id:"wrapper",children:[Object(N.jsx)(D,{}),Object(N.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[Object(N.jsxs)("div",{id:"content",children:[Object(N.jsx)(A,{}),Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsx)(U,{title:"Enquetes",subtitle:"Gerencie e veja os resultados das enquetes adicionadas"}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-xl-12",children:Object(N.jsxs)(B,{title:"Listagem de Enquetes",children:[Object(N.jsx)("button",{onClick:function(){return e.redirectToNew()},className:"btn btn-success",children:"Adicionar Enquete"}),Object(N.jsx)(Q.a,{columns:this.columns,data:s,pagination:!0,onSelectedRowsChange:a,Selected:a,clearSelectedRows:a})]})})})]})]}),Object(N.jsx)("footer",{className:"sticky-footer bg-white",children:Object(N.jsx)("div",{className:"container my-auto",children:Object(N.jsx)("div",{className:"copyright text-center my-auto",children:Object(N.jsx)("span",{children:"Copyright \xa9 Your Website 2019"})})})})]})]}),Object(N.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:Object(N.jsx)("i",{className:"fas fa-angle-up"})})]})}}]),s}(a.Component),Ne=[{path:"/dashboard",component:W},{path:"/logs",component:G},{path:"/participacoes",component:ee},{path:"/lista-de-presenca",component:se},{path:"/lives/:id/editar",component:oe},{path:"/lives/novo",component:re},{path:"/lives",component:ce},{path:"/enquete/novo",component:Oe},{path:"/enquete/:id",component:fe},{path:"/enquete",component:Object(l.g)(ge)},{path:"/users/novo",component:je},{path:"/users/editar/:id",component:be},{path:"/users/:id",component:pe},{path:"/users",component:de}],ye=function(e){var t=e.src,s=void 0===t?"":t,a=e.width,c=void 0===a?1280:a,n=e.height,r=void 0===n?720:n;return s?Object(N.jsx)("div",{children:Object(N.jsx)("iframe",{style:{width:c,height:r},src:s,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):null},ke=s(45),we=s.n(ke),Ce=function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleRequest=function(){$.a.fire({title:"Deseja solicitar participa\xe7\xe3o?",text:"Descreva suscintamente o motivo da sua solicita\xe7\xe3o",input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonText:"Confirmar",showLoaderOnConfirm:!0,preConfirm:function(){var e=Object(X.a)(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.post("/associate/invitation",{user_id:a.props.userId,description:t,live_id:a.props.live.id});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("erro na request",e.t0),$.a.fire("Erro","Erro ao solicitar participa\xe7\xe3o","error"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),allowOutsideClick:function(){return!$.a.isLoading()}}).then((function(e){e.isConfirmed&&$.a.fire("OK","Sua solicita\xe7\xe3o foi enviada, aguarde o retorno","success")}))},a.state={messages:a.props.messages},a}return Object(u.a)(s,[{key:"renderMessages",value:function(){var e=this,t=[];return this.state.messages.forEach((function(s,a){if(console.log("renderMessages loop",s),"participation_accepted"===s.type&&t.push(Object(N.jsxs)("div",{class:"received_msg",children:[Object(N.jsx)("p",{children:Object(N.jsx)("a",{href:s.data.link,target:"blank",children:"Sua solicita\xe7\xe3o para participar da transmiss\xe3o foi aceita, clique aqui para entrar"})}),Object(N.jsxs)("span",{children:["Mediador \xe0s ",z(s.data.created_at).split(" ")[1]]})]},a)),"new_research"===s.type){console.log("event data",s.data);var c=s.data.research;if(c){var n=localStorage.getItem("answeredResearches");if((n=n?JSON.parse(n):[]).find((function(e){return e===c.id}))){var r;t.push(Object(N.jsxs)("div",{className:"received_form",children:[Object(N.jsxs)("form",{id:c.id,children:[Object(N.jsx)("h5",{children:c.name}),"Voc\xea respondeu a este question\xe1rio"]},a),Object(N.jsxs)("span",{children:["Mediador \xe0s ",z(null===(r=s.data.event)||void 0===r?void 0:r.created_at).split(" ")[1]]})]}))}else{var i,o=e.props.userId,l=[];c.questions.forEach((function(e,t){var s=[];"text"===e.type?s.push(Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("textarea",{className:"form-control",name:"text[".concat(t,"]"),required:e.required})})):"radio"===e.type?e.options.forEach((function(a){s.push(Object(N.jsx)("div",{children:Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{name:"research_question_option_id[".concat(t,"]"),"data-index":t,type:"radio",value:a.id,required:e.required})," ",a.text]})},a.id))})):"checkbox"===e.type&&e.options.forEach((function(e){s.push(Object(N.jsx)("div",{children:Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{name:"research_question_option_id[".concat(t,"]"),"data-index":t,type:"checkbox",value:e.id})," ",e.text]})},e.id))})),l.push(Object(N.jsxs)("div",{children:[Object(N.jsx)("strong",{children:t+1}),". ",e.title,Object(N.jsx)("p",{children:e.text}),s,Object(N.jsx)("input",{type:"hidden",name:"research_id[".concat(t,"]"),value:c.id}),Object(N.jsx)("input",{type:"hidden",name:"user_id[".concat(t,"]"),value:o}),Object(N.jsx)("input",{type:"hidden",name:"research_question_id[".concat(t,"]"),value:e.id})]},e.id))})),t.push(Object(N.jsxs)("div",{className:"received_form",children:[Object(N.jsxs)("form",{id:c.id,children:[Object(N.jsx)("h5",{children:c.name}),l,Object(N.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:function(t){return e.handleFormSubmit(t,c)},children:"Enviar Respostas"})]},a),Object(N.jsxs)("span",{children:["Mediador \xe0s ",z(null===(i=s.data.event)||void 0===i?void 0:i.created_at).split(" ")[1]]})]}))}}}})),t}},{key:"handleFormSubmit",value:function(e,t){var s=this;e.preventDefault();var a=document.getElementById(t.id),c=a.checkValidity();if(a.reportValidity(),c){var n=[];we()("#".concat(t.id)).serializeArray().forEach((function(e){var s=e.name.match(/(?<=\[).*?(?=\])/g);n[s]||(n[s]={});var a=e.name.replace(/(?<=\[).*?(?=\])/gi,"").replace("[]",""),c=e.value;if("research_question_option_id"===a){var r=we()("#".concat(t.id,' input[data-index="').concat(s,'"]:checked'));if(r.length>1){var i=[];r.each((function(){i.push(we()(this).val())})),c=i}}n[s][a]=c})),n.forEach((function(e,t){Array.isArray(e.research_question_option_id)&&(e.research_question_option_id.forEach((function(t){n.push(Object(i.a)(Object(i.a)({},e),{},{research_question_option_id:t}))})),n[t]=null)}));var r=n.filter((function(e){return null!=e}));g.post("/associate/research",JSON.stringify(r)).then((function(){var e=localStorage.getItem("answeredResearches");(e=e?JSON.parse(e):[]).push(t.id),localStorage.setItem("answeredResearches",JSON.stringify(e)),s.setState({messages:s.state.messages}),$.a.fire("OK","As respostas da enquete foram enviadas com sucesso","success")})).catch((function(e){console.log(e),$.a.fire("Erro","Erro ao responder a enquete, verifique os campos e tente novamente","error")}))}}},{key:"handleDisconnect",value:function(){localStorage.removeItem("authenticationToken"),window.location="/"}},{key:"render",value:function(){var e=this;return Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("div",{className:"card-header py-3",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(N.jsx)("h6",{className:"m-0 font-weight-bold text-primary",children:"Chat"}),Object(N.jsxs)("button",{onClick:function(){return e.handleDisconnect()},class:"btn btn-light btn-icon-split",children:[Object(N.jsx)("span",{class:"icon text-gray-600",children:Object(N.jsx)("i",{class:"fas fa-sign-out-alt"})}),Object(N.jsx)("span",{class:"text",children:"Desconectar"})]})]}),Object(N.jsxs)("div",{className:"card-body",style:{height:"95vh",overflowY:"auto"},children:[Object(N.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){return e.handleRequest()},children:"Pedir para participar"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{class:"received_msg",children:[Object(N.jsx)("p",{children:"Mensagem de teste que ser\xe1 removida em breve"}),Object(N.jsxs)("span",{children:["Moderador \xe0s ",z("2021-05-03T02:50:13.000Z").split(" ")[1]]})]}),this.renderMessages()]})]})}}]),s}(a.Component),qe=[{path:"/watch",component:function(e){Object(m.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).getResearch=function(){var e=Object(X.a)(K.a.mark((function e(t){var s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/associate/research?id=".concat(t));case 3:s=e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),s=null;case 10:return e.abrupt("return",new Promise((function(e,t){null===s&&t(null),e(s.data[0])})));case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a.state={live:null,user:b.getData(),messages:[],messagesOffset:0},a}return Object(u.a)(s,[{key:"componentWillMount",value:function(){var e=this;document.getElementById("body").className="page-top",g.get("/associate/live?user_id=".concat(this.state.user.id)).then((function(t){e.setState({live:t.data.live})})).catch((function(e){console.log(e),$.a.fire("Erro","Um erro inesperado ocorreu enquanto abr\xedamos a live, tente novamente mais tarde","error")}))}},{key:"componentDidMount",value:function(){var e=this;document.getElementsByTagName("body")[0].style.overflow="hidden";var t=this.state.user.id,s=setInterval((function(){g.get("associate/invitation?user_id=".concat(t)).then((function(t){if(t.data.participation){var s=e.state.messages;s.push({type:"participation_accepted",data:t.data.participation}),e.setState({messages:s})}}))}),6e4),a=setInterval((function(){g.get("associate/events?offset=".concat(e.state.messagesOffset)).then(function(){var t=Object(X.a)(K.a.mark((function t(s){var a,c,n,r,i,o,l,d,u;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=s.data.participations).length>0)){t.next=20;break}c=e.state.messages,n=a.length,r=a[n-1].id,i=0;case 6:if(!(i<=n-1)){t.next=18;break}if(o=a[i],l=o.type,d=o.data,"new_research"!==l){t.next=14;break}return t.next=11,e.getResearch(d.research.id);case 11:u=t.sent,d={event:a[i],research:u},console.log("research data in foreach",d);case 14:c.push({type:l,data:d});case 15:i++,t.next=6;break;case 18:console.log("final messages",c),e.setState({messages:c,messagesOffset:r});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),1e4);this.setState({intervalId:s,eventsIntervalId:a})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId),clearInterval(this.state.eventsIntervalId)}},{key:"renderLive",value:function(){return this.state.live?Object(N.jsx)(ye,{src:this.state.live.url,width:"100%",height:"100vh"}):null}},{key:"render",value:function(){return Object(N.jsx)("div",{children:Object(N.jsx)("div",{id:"wrapper",children:Object(N.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:Object(N.jsx)("div",{id:"content",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-xl-9 col-lg-8",style:{paddingRight:0},children:this.renderLive()}),Object(N.jsx)("div",{className:"col-xl-3 col-lg-4",style:{paddingLeft:0},children:Object(N.jsx)(Ce,{messages:this.state.messages,userId:this.state.user.id,live:this.state.live})})]})})})})})}}]),s}(a.Component)}];function Se(e){return void 0!==e&&""!==e}var Ee=function(){return Object(N.jsx)(o.a,{children:Object(N.jsxs)(l.d,{children:[Object(N.jsx)(l.b,{exact:!0,path:"/",component:k}),qe.map((function(e,t){return function(){var e=localStorage.getItem("authenticationToken"),t=!1;if(e){var s=b.resolveToken(e);t=Se(s.id)&&1===s.tipo}return t}()?Object(N.jsx)(l.b,Object(i.a)({},e),"associate-".concat(t)):null})),Ne.map((function(e,t){return function(){var e=localStorage.getItem("authenticationToken"),t=!1;if(e){var s=b.resolveToken(e);t=Se(s.id)&&2===s.tipo}return t}()?Object(N.jsx)(l.b,Object(i.a)({},e),"admin-".concat(t)):Object(N.jsx)(l.a,{to:"/"},"associate-".concat(t))})),Object(N.jsx)(l.b,{path:"*",component:C})]})})},Ie=function(){return Object(N.jsx)(Ee,{})},_e=(s(313),s(314),{menuOpen:!1}),De=Object(S.b)({menuState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(i.a)(Object(i.a)({},e),{},{menuOpen:!e.menuOpen});default:return e}}}),Te=Object(S.c)(De);r.a.render(Object(N.jsx)(q.a,{store:Te,children:Object(N.jsx)(Ie,{})}),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.d3fbdc67.chunk.js.map